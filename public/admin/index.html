<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Fleapay Admin</title>

  <!-- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ï¼ˆç®¡ç†ç”»é¢å¿…é ˆï¼‰ -->
  <meta name="robots" content="noindex,nofollow">
  <meta http-equiv="Cache-Control" content="no-store">
  <meta http-equiv="X-Frame-Options" content="DENY">
  
  <!-- JavaScriptç„¡åŠ¹æ™‚ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œï¼‰ -->
  <meta http-equiv="refresh" content="3; url=admin-dashboard.html">

  <style>
    :root {
      /* FleaPayãƒ–ãƒ©ãƒ³ãƒ‰ã‚«ãƒ©ãƒ¼çµ±åˆ */
      --fleapay-blue: #1B365D;    /* æ·±è— - ä¿¡é ¼æ„Ÿ */
      --fleapay-cream: #FBF7F0;   /* ç”Ÿæˆã‚Š - è¦ªã—ã¿ã‚„ã™ã• */
      --fleapay-gold: #B8902E;    /* é‡‘ç¶™ã - ç‰¹åˆ¥æ„Ÿ */
      --fleapay-gray: #666666;    /* è–„å¢¨ - ã‚µãƒ–ãƒ†ã‚­ã‚¹ãƒˆ */
    }

    * {
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
      margin: 0;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, 
                   "Noto Sans JP", sans-serif;
      background: var(--fleapay-cream);
      color: var(--fleapay-blue);
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 20px;
    }

    .welcome-container {
      background: #fff;
      padding: 40px;
      border-radius: 16px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.08);
      max-width: 480px;
      width: 100%;
    }

    .logo {
      font-size: 48px;
      margin-bottom: 16px;
      display: block;
    }

    h1 {
      margin: 0 0 8px 0;
      font-size: 28px;
      font-weight: 700;
      color: var(--fleapay-blue);
    }

    .subtitle {
      margin: 0 0 24px 0;
      color: var(--fleapay-gray);
      font-size: 16px;
    }

    .redirect-message {
      background: rgba(184, 144, 46, 0.1);
      border: 1px solid rgba(184, 144, 46, 0.3);
      border-radius: 12px;
      padding: 16px;
      margin: 20px 0;
      color: var(--fleapay-gold);
      font-weight: 500;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .loading-spinner {
      width: 18px;
      height: 18px;
      border: 2px solid rgba(184, 144, 46, 0.3);
      border-radius: 50%;
      border-top-color: var(--fleapay-gold);
      animation: spin 1s ease-in-out infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .manual-link {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 12px 24px;
      background: var(--fleapay-blue);
      color: #fff;
      text-decoration: none;
      border-radius: 999px;
      font-weight: 600;
      transition: all 0.2s ease;
      margin-top: 16px;
    }

    .manual-link:hover {
      background: #0f2847;
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(27, 54, 93, 0.3);
    }

    .version-info {
      margin-top: 32px;
      padding-top: 16px;
      border-top: 1px solid #eee;
      font-size: 12px;
      color: var(--fleapay-gray);
    }

    .security-notice {
      background: rgba(139, 38, 53, 0.05);
      border: 1px solid rgba(139, 38, 53, 0.2);
      border-radius: 8px;
      padding: 12px;
      margin-top: 16px;
      font-size: 13px;
      color: #8B2635;
    }

    /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ */
    @media (max-width: 480px) {
      .welcome-container {
        padding: 24px;
        margin: 12px;
      }
      
      .logo {
        font-size: 36px;
      }
      
      h1 {
        font-size: 24px;
      }
      
      .subtitle {
        font-size: 14px;
      }
    }
  </style>
</head>
<body>
  <div class="welcome-container">
    <span class="logo">ğŸª¶</span>
    
    <h1>Fleapay Admin</h1>
    <p class="subtitle">ãƒ•ãƒªãƒã‚’ã€"å­¦ã³ã¨ã¨ãã‚ã"ã®å ´æ‰€ã«ã€‚</p>
    
    <div class="redirect-message">
      <span class="loading-spinner"></span>
      ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«ç§»å‹•ã—ã¦ã„ã¾ã™...
    </div>
    
    <!-- JavaScriptç„¡åŠ¹æ™‚ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ -->
    <noscript>
      <a href="admin-dashboard.html" class="manual-link">
        ğŸ“Š ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’é–‹ã
      </a>
    </noscript>
    
    <!-- ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆå¤±æ•—æ™‚ã®æ‰‹å‹•ãƒªãƒ³ã‚¯ -->
    <a href="admin-dashboard.html" class="manual-link" id="manualLink" style="display: none;">
      ğŸ“Š ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’é–‹ã
    </a>
    
    <div class="security-notice">
      âš ï¸ ã“ã®ç”»é¢ã¯ç®¡ç†è€…å°‚ç”¨ã§ã™ã€‚ä¸æ­£ã‚¢ã‚¯ã‚»ã‚¹ã¯ç¦æ­¢ã•ã‚Œã¦ã„ã¾ã™ã€‚
    </div>
    
    <div class="version-info">
      FleaPay Admin v2.0<br>
      Environment: <span id="environment">æ¤œå‡ºä¸­...</span><br>
      Build: 2025.11.13
    </div>
  </div>

  <script>
    // ç’°å¢ƒæ¤œå‡ºï¼ˆæœ¬ç•ªãƒ»ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ãƒ»é–‹ç™ºã®åˆ¤åˆ¥ï¼‰
    function detectEnvironment() {
      const hostname = window.location.hostname;
      
      if (hostname === 'localhost' || hostname === '127.0.0.1' || hostname.includes('dev')) {
        return 'Development';
      } else if (hostname.includes('stg') || hostname.includes('staging')) {
        return 'Staging';
      } else {
        return 'Production';
      }
    }

    // æ‰‹å‹•ãƒªãƒ³ã‚¯è¡¨ç¤ºï¼ˆãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆå¤±æ•—æ™‚ï¼‰
    function showManualLink() {
      const manualLink = document.getElementById('manualLink');
      if (manualLink) {
        manualLink.style.display = 'inline-flex';
      }
    }

    // ã‚»ã‚­ãƒ¥ã‚¢ãªãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆå®Ÿè¡Œ
    function performRedirect() {
      const redirectDelay = 2000; // 2ç§’å¾Œã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
      
      setTimeout(() => {
        try {
          // location.replace ã‚’ä½¿ç”¨ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶å±¥æ­´ã‚’æ±šã•ãªã„ï¼‰
          window.location.replace('admin-dashboard.html');
        } catch (error) {
          console.error('ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã«å¤±æ•—ã—ã¾ã—ãŸ:', error);
          showManualLink();
        }
      }, redirectDelay);
      
      // 5ç§’å¾Œã«ã‚‚æ‰‹å‹•ãƒªãƒ³ã‚¯ã‚’è¡¨ç¤ºï¼ˆå®‰å…¨è£…ç½®ï¼‰
      setTimeout(showManualLink, 5000);
    }

    // åˆæœŸåŒ–å‡¦ç†
    document.addEventListener('DOMContentLoaded', () => {
      // ç’°å¢ƒè¡¨ç¤ºã®æ›´æ–°
      const envElement = document.getElementById('environment');
      if (envElement) {
        const env = detectEnvironment();
        envElement.textContent = env;
        
        // æœ¬ç•ªç’°å¢ƒã§ã¯è­¦å‘Šè‰²ã§è¡¨ç¤º
        if (env === 'Production') {
          envElement.style.color = '#8B2635';
          envElement.style.fontWeight = 'bold';
        }
      }

      // ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°ï¼ˆé–‹ç™ºç’°å¢ƒã®ã¿ï¼‰
      if (detectEnvironment() === 'Development') {
        console.log('ğŸª¶ FleaPay Admin ã‚¢ã‚¯ã‚»ã‚¹:', {
          timestamp: new Date().toISOString(),
          userAgent: navigator.userAgent.substring(0, 100),
          referrer: document.referrer || 'direct'
        });
      }

      // ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆå®Ÿè¡Œ
      performRedirect();
    });

    // ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
    window.addEventListener('error', (e) => {
      console.error('JavaScript ã‚¨ãƒ©ãƒ¼:', e.error);
      showManualLink();
    });

    // ãƒšãƒ¼ã‚¸è¡¨ç¤ºæ™‚ã®å‡¦ç†ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ã®æˆ»ã‚‹ãƒœã‚¿ãƒ³å¯¾ç­–ï¼‰
    window.addEventListener('pageshow', (e) => {
      if (e.persisted) {
        // ãƒ–ãƒ©ã‚¦ã‚¶ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰è¡¨ç¤ºã•ã‚ŒãŸå ´åˆã¯å³åº§ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
        window.location.replace('admin-dashboard.html');
      }
    });
  </script>
</body>
</html>
