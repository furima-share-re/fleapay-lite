<!doctype html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>DB 初期構築用 SQL 実行ツール (削除済み)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      max-width: 800px;
      margin: 50px auto;
      padding: 20px;
      background: #fff;
    }
    .warning {
      background: #fff3cd;
      border: 2px solid #ffc107;
      border-radius: 8px;
      padding: 20px;
      margin: 20px 0;
    }
    .error {
      background: #f8d7da;
      border: 2px solid #dc3545;
      border-radius: 8px;
      padding: 20px;
      margin: 20px 0;
    }
    h1 {
      color: #dc3545;
    }
    code {
      background: #f4f4f4;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Courier New', monospace;
    }
    a {
      color: #007bff;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <h1>⚠️ このツールは削除されました</h1>
  
  <div class="error">
    <h2>原則4: 永続データは人が触らない</h2>
    <p>
      手動SQL実行エンドポイントは、<strong>原則4の実装</strong>に基づき完全に削除されました。
    </p>
    <p>
      データベースへの変更は、<strong>Supabaseマイグレーションファイル</strong>と<strong>CI/CDによる自動適用</strong>のみが許可されています。
    </p>
  </div>

  <div class="warning">
    <h2>代替手段</h2>
    <p>
      データベーススキーマを変更する場合は、以下の手順に従ってください：
    </p>
    <ol>
      <li>
        <strong>マイグレーションファイルを作成</strong><br>
        <code>supabase/migrations/YYYYMMDD_HHMMSS_description.sql</code> 形式でファイルを作成
      </li>
      <li>
        <strong>PRを作成</strong><br>
        マイグレーションファイルを含むPRを作成
      </li>
      <li>
        <strong>CI/CDで自動検証</strong><br>
        破壊的変更がないか自動的に検証されます
      </li>
      <li>
        <strong>マージ後、自動適用</strong><br>
        マージ後、Supabase CLIで自動的にマイグレーションが適用されます
      </li>
    </ol>
  </div>

  <div class="warning">
    <h2>詳細情報</h2>
    <p>
      詳細は以下のドキュメントを参照してください：
    </p>
    <ul>
      <li><a href="/docs/PRINCIPLE_4_IMPLEMENTATION.md">原則4の実装ガイド</a></li>
      <li><a href="/SECURITY_POLICY_SQL.md">SQLセキュリティポリシー</a></li>
    </ul>
  </div>

  <p style="margin-top: 40px; color: #666; font-size: 14px;">
    このツールは2026年1月に削除されました。手動SQL実行は、セキュリティとデータ整合性の観点から完全に禁止されています。
  </p>
</body>
</html>
